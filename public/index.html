<!DOCTYPE html>
<html>
	<head>
		<title>智绪浩的个人主页</title>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="/css/style.css">
		<link rel="stylesheet" type="text/css" href="/vender/font-awesome/css/font-awesome.css">
		<link rel="stylesheet" type="text/css" href="/css/progressjs.css">
		<link rel="stylesheet" type="text/css" href="vender/simditor/simditor.css" />
		<script src="vender/jquery/dist/jquery.js"></script>
		<script src="js/turn.js"></script>
		<script src="js/progress.js"></script>
		<script type="text/javascript" src="vender/simditor/module.js"></script>
		<script type="text/javascript" src="vender/simditor/hotkeys.js"></script>
		<script type="text/javascript" src="vender/simditor/uploader.js"></script>
		<script type="text/javascript" src="vender/simditor/simditor.js"></script>
	</head>
	<body>
	<div id="porgress"></div>
	<script>
		progressJs("#porgress").start();
	</script>

		<div class="left-panel">
			<div class="self_intro">
				<div class="img_holder">
					<img src="image/lufei1.jpg">
				</div>
				<div class="title">
					<p>
						智绪浩的网站
					</p>
					<p>
						George's website
					</p>
				</div>
				<div class="icons">
					<i class="fa fa-envelope-o" aria-hidden="true"></i>
					<i class="fa fa-weixin" aria-hidden="true"></i>
					<i class="fa fa-weixin" aria-hidden="true"></i>
					<i class="fa fa-weixin" aria-hidden="true"></i>
					<i class="fa fa-weixin" aria-hidden="true"></i>
					<i class="fa fa-weixin" aria-hidden="true"></i>
				</div>
				<div class="intro_text">
					<p>
						我今年23岁,热爱前端,希望自己的作品能被更多人看到,深知自己的不足,所以渴求新的知识,盼望与牛逼的人做牛逼的事! best wishes!
					</p>
				</div>
			</div>
			<div class="recent_work">

			</div>
			<div class="news">

			</div>
		</div>
	<script>
		progressJs("#porgress").set(50);
	</script>
		<div class="right-panel">
			<div class="myNote">
				<div class="addNote" id="addNote">
					<div class="icon">
						<a onclick="addnote(this)"><i class="fa fa-plus" aria-hidden="true"></i></a>
					</div>
					<form id="add-Note">
						<div class="adiv-title">
							<input class="input-title" placeholder="请输入标题">
						</div>
						<div class="adiv-describe">
							<input class="input-describe" placeholder="请输入描述">
						</div>
						<div class="adiv-content">
							<textarea id="simditor_area" placeholder="请输入内容"></textarea>
						</div>
						<div class="adiv-button">
							<button type="button" onclick="post_note()">提交</button>
						</div>
					</form>
				</div>
				<p class="title">学习笔记</p>
				<div class="article-wrapper" id="article-wrapper">
					<article class="note" data-target="/detail/1">
						<p class="article-title">
							accesskey 用法
						</p>
						<p class="content">
							accesskey 是快捷键，可以用使得元素获得焦点，比如跳转超链接，或者input输入，Alt + accessKey (或者 Shift + Alt + accessKey)，mac是control+option+accessKey
						</p>
						<p class="footer">
							<span>发布于2016-10-01 15:30</span>
							<span>标签</span>
							<span>收藏</span>
						</p>
					</article>
					<article class="note" data-target="/detail/2">
						<p class="article-title">
							accesskey 用法
						</p>
						<p class="content">
							accesskey 是快捷键，可以用使得元素获得焦点，比如跳转超链接，或者input输入，Alt + accessKey (或者 Shift + Alt + accessKey)，mac是control+option+accessKey
						</p>
						<p class="footer">
							<span>发布于2016-10-01 15:30</span>
							<span>标签</span>
							<span>收藏</span>
						</p>
					</article>
					<article class="note" data-target="/detail/3">
						<p class="article-title">
							accesskey 用法
						</p>
						<p class="content">
							accesskey 是快捷键，可以用使得元素获得焦点，比如跳转超链接，或者input输入，Alt + accessKey (或者 Shift + Alt + accessKey)，mac是control+option+accessKey
						</p>
						<p class="footer">
							<span>发布于2016-10-01 15:30</span>
							<span>标签</span>
							<span>收藏</span>
						</p>
					</article>
					<article class="note" data-target="/detail/4">
						<p class="article-title">
							accesskey 用法
						</p>
						<p class="content">
							accesskey 是快捷键，可以用使得元素获得焦点，比如跳转超链接，或者input输入，Alt + accessKey (或者 Shift + Alt + accessKey)，mac是control+option+accessKey
						</p>
						<p class="footer">
							<span>发布于2016-10-01 15:30</span>
							<span>标签</span>
							<span>收藏</span>
						</p>
					</article>
					<article class="note" data-target="/detail/5">
						<p class="article-title">
							accesskey 用法
						</p>
						<p class="content">
							accesskey 是快捷键，可以用使得元素获得焦点，比如跳转超链接，或者input输入，Alt + accessKey (或者 Shift + Alt + accessKey)，mac是control+option+accessKey
						</p>
						<p class="footer">
							<span>发布于2016-10-01 15:30</span>
							<span>标签</span>
							<span>收藏</span>
						</p>
					</article>
				</div>
			</div>
		</div>
	<script>
		setTimeout(function(){
			progressJs("#porgress").end();
		},200);
	</script>
	<script>
		function addnote(obj){
			var div = $(obj).parent().parent();
			if(div.hasClass('active')){
				div.removeClass('active');
				return;
			}
			else{
				div.addClass('active');
			}
		}
		function getNoteDetail(url){
			var postdata = {

			};
			$.ajax({
				contentType:'application/json;charset=UTF-8',
				type: "GET",
				url: location.origin+url,
				dataType: "json",
				data:JSON.stringify(postdata),
				success: function(data){
					progressJs("#porgress").start();
					$("#article-wrapper").css("opacity",0);
					progressJs("#porgress").set(50);
					var $title = $("<p>").addClass("article-title");
					$title.html(data.title);
					var $time = $("<span>").html("发布于"+data.published);
					var $tag = $("<span>").html('标签');
					var $collect = $("<span>").html('收藏');
					var $footer = $("<p>").addClass("footer");
					$footer.append($time,$tag,$collect);
					var $content = $("<p>").addClass("content").html(data.body);
					var $article = $("<article>").addClass("note-detail").append($title,$footer,$content);
					setTimeout(function(){
						$("#article-wrapper").empty();
						$("#article-wrapper").append($article);
						$("#article-wrapper").css("opacity",1);
						progressJs("#porgress").end();
					},500);

				}
			});

		}
		$(document).ready(function(){
			$("article.note").each(function(){
				var url = $(this).attr("data-target");
				$(this).bind("click",function(){
					//getNoteDetail(url);
					window.location = location.origin+url;
				});
			});
			var editor = new Simditor({
				textarea: $("#simditor_area"),
				toolbar: toolbar,
				imageButton: "upload",
				pasteImage: true,
				upload: {
					url: location.origin + "/noteimg/upload",
					formData : {
						"childPath" : "picture"
					},
					fileKey: "file",
					leaveConfirm: "上传正在进行，您确定要离开本页面？"
				}
			});
		});
		function post_note(){
			var url = '/addnote';
			var title = $("input.input-title").eq(0);
			var describe = $("input.input-describe").eq(0);
			var content = $(".simditor-body").eq(0);
			var postdata = {
				time:Date.now(),
				title:title.val().toString(),
				describe:describe.val().toString(),
				content:content.html().toString()
			};
			$.ajax({
				contentType:'application/json;charset=UTF-8',
				type: "POST",
				url: location.origin+url,
				dataType: "json",
				data:JSON.stringify(postdata),
				success: function(data){
					title.val("");
					describe.val("");
					content.html("");
					$("#addNote").removeClass("active");
					alert("上传成功");

				}
			});
		}
	</script>
	</body>
</html>